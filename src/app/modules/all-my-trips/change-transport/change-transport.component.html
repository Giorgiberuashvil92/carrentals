<ng-container *ngIf="itineraryState$ | async as itineraryState">
    <mat-dialog-content>
        <div class="wrapper relative" *ngIf="itineraryState.alternateTours && itineraryState.alternateTours.data && itineraryState.alternateTours.data.length > 0">
            <img class="close-dialog-btn absolute cursor-pointer" src="/assets/close-dialog-icon.svg" alt="" (click)="dialogService.closeDialog()">
            
            <div class="change-activity">
                What transportation do you prefer?
            </div>
        
            <div class="activity-wrapper">
                <div class="activity relative flex"
                    [ngClass]="{ 'activity__active': 0 === currentIndex}"
                    (click)="currentIndex = 0">
                    
                    <div class="current absolute flex items-center">
                        <div class="current-text">
                            Current
                        </div>
                    </div>
                    
                    <div class="image" [style.background-image]="'url(\'' + itineraryState.tour.attributes['square-image-url'] + '\')'"></div>
        
                    <div class="detail-wrapper">
                        <div class="title">
                            {{ itineraryState.tour.attributes['transport-type'] |titlecase }}
                        </div>

                        <div class="description">
                            {{ itineraryState.tour.attributes['transport-name'] }}
                        </div>
                    </div>
                </div>

                <div class="activity relative flex" 
                    *ngFor="let d of itineraryState.alternateTours.data; let i=index"
                    [ngClass]="{ 'activity__active': i === currentIndex-1}" 
                    (click)="currentIndex = i + 1">
                    
                    <div class="image" [style.background-image]="'url(\'' + d.attributes['image-url'] + '\')'"></div>
        
                    <div class="detail-wrapper">
                        <div class="title">
                            {{ d.attributes['transport-type'] | titlecase }}
                        </div>

                        <div class="description">
                            {{ d.attributes['description'] }}
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="actions absolute flex justify-between">
                <button class="cancel-button" (click)="dialogService.closeDialog()">
                    CANCEL
                </button>
                <button class="ok-button" (click)="onOK(itineraryState)">
                    OK
                </button>
            </div>
        </div>
    </mat-dialog-content>
</ng-container>